# GLAZE 実際のテスト手順ガイド

## 🎯 テスト目的
オレンジ色破綻問題の修正と、Photoshop互換の自然な色変換を確認する

## 📱 テスト環境準備

### 1. 推奨ブラウザ
- **Chrome 90+** (推奨)
- **Firefox 88+**
- **Safari 14+**
- **Edge 90+**

### 2. テスト用画像の準備
以下のような画像を用意：
- **オレンジ系**: 夕焼け、オレンジ、食べ物
- **肌色系**: ポートレート写真  
- **風景**: 多様な色を含む風景写真
- **カラーチャート**: RGB値が明確な画像

## 🧪 基本テスト手順

### テスト1: オレンジ色破綻の確認

1. **GLAZEにアクセス**
   ```
   https://lut-webapp-aalt.vercel.app/
   ```

2. **画像アップロード**
   - オレンジ系の画像をドラッグ&ドロップ

3. **LUT設定**
   - レイヤー1を「有効」にチェック
   - LUTプリセットで「Anderson」を選択
   - 不透明度を **26%** に設定

4. **結果確認**
   - **✅ 成功**: 微細で自然な色調整
   - **❌ 失敗**: 過度なオレンジ強調、色破綻

### テスト2: 各LUTプリセットの動作確認

各LUTで不透明度26%をテスト：

| LUT名 | 期待される効果 | 確認ポイント |
|-------|----------------|-------------|
| **Anderson** | 温かみのある色調 | オレンジの自然な強調 |
| **Blue Sierra** | クールなブルートーン | 青系の美しい強調 |
| **F-PRO400H** | フィルム風の質感 | 全体的な柔らかさ |
| **K-Ektar** | 鮮やかな色彩 | 彩度の適度な向上 |
| **Pastel Light** | ソフトなパステル調 | 淡い色合いの演出 |

### テスト3: 不透明度スケールの確認

Anderson LUTで以下の不透明度をテスト：

| 不透明度 | 期待される効果 |
|----------|----------------|
| **10%** | ごく微細な調整 |
| **26%** | 自然で美しい強調 |
| **50%** | 明確だが自然な変化 |
| **75%** | 強めだが破綻しない効果 |

## 🔍 詳細デバッグテスト

### デベロッパーツール確認

1. **F12** でデベロッパーツールを開く

2. **Console** タブで以下を確認：
   ```javascript
   // LUT読み込み成功
   LUT loaded: Anderson - Size: 64x64x64
   Created 64x64x64 LUT texture (262144 pixels)
   
   // LUT適用時
   Layer 1: LUT size 64, opacity 0.26, enabled true
   ```

3. **Network** タブで LUT ファイルのダウンロード確認：
   - `Anderson.cube` - サイズ約500KB-1MB
   - `Blue sierra.cube` - サイズ約500KB-1MB
   - 他のLUTファイル

### WebGL ステータス確認

コンソールで実行：
```javascript
// WebGL2対応確認
console.log('WebGL2:', !!document.createElement('canvas').getContext('webgl2'));

// GPU情報確認
const canvas = document.createElement('canvas');
const gl = canvas.getContext('webgl2');
if (gl) {
    console.log('GPU Vendor:', gl.getParameter(gl.VENDOR));
    console.log('GPU Renderer:', gl.getParameter(gl.RENDERER));
    console.log('Max Texture Size:', gl.getParameter(gl.MAX_TEXTURE_SIZE));
}
```

## 📊 比較テスト（Photoshop使用可能な場合）

### 1. Photoshopでの比較設定
1. 同じ画像をPhotoshopで開く
2. **色調補正** → **Color Lookup...** を選択
3. Anderson.cube ファイルを読み込み
4. レイヤーの不透明度を **26%** に設定
5. GLAZEの結果と視覚的に比較

### 2. 比較ポイント
- **色の方向性**: 同じ方向の色変化か
- **強度**: 似たような強さの効果か
- **自然さ**: 不自然な色飛びがないか
- **階調**: 滑らかなグラデーションか

## 🧪 詳細カラーテスト

### RGB値での定量確認

特定の色での変換テスト：

| 入力RGB | 色の説明 | 期待される変化 |
|---------|----------|----------------|
| `rgb(255, 128, 0)` | 純オレンジ | 微細な温かみ追加 |
| `rgb(255, 200, 150)` | 肌色 | 自然な血色感 |
| `rgb(128, 128, 128)` | 中間グレー | わずかな色味追加 |
| `rgb(0, 100, 200)` | 青空 | 適度な彩度向上 |

### カラーピッカーでの確認方法
1. 画像の特定部分の色を記録
2. LUT適用後の同じ部分の色を確認
3. RGB差分を計算（期待値: 各チャンネル±10以内）

## 📱 モバイルデバイステスト

### iOS Safari
- **iPhone/iPad** でのタッチ操作確認
- **パフォーマンス**: 処理時間3秒以内
- **メモリ**: アプリクラッシュなし

### Android Chrome
- **Android** デバイスでの動作確認
- **GPU互換性**: WebGL2対応確認
- **レスポンシブ**: UI要素の適切な表示

## 🚨 問題発見時のレポート方法

### 1. 基本情報の記録
```
ブラウザ: Chrome 91.0.4472.124
OS: Windows 10 / macOS 12.0 / iOS 15.0
デバイス: デスクトップ / iPhone 12 / etc.
```

### 2. 問題の詳細
- **発生条件**: 特定のLUT、不透明度、画像
- **期待値**: どのような結果を期待していたか
- **実際の結果**: どのような問題が発生したか
- **再現手順**: 問題を再現する具体的手順

### 3. 技術情報
- **コンソールエラー**: エラーメッセージの全文
- **ネットワークエラー**: LUTファイル読み込み失敗など
- **パフォーマンス**: 異常に遅い処理時間

### 4. 視覚的証拠
- **スクリーンショット**: 問題のある表示
- **画面録画**: 操作手順と問題の発生過程

## ✅ テスト完了チェックリスト

### 基本機能
- [ ] 画像アップロード正常
- [ ] 5つのLUTプリセット動作
- [ ] 不透明度調整正常
- [ ] プレビュー更新正常

### 色精度
- [ ] オレンジ色が自然に変換
- [ ] 26%不透明度で破綻なし
- [ ] 肌色が適切に保持
- [ ] 全体的な色調が自然

### パフォーマンス
- [ ] 処理時間2秒以内
- [ ] メモリ使用量適正
- [ ] UIレスポンス良好
- [ ] エラーなし

### デバッグ確認
- [ ] LUTサイズ正常表示
- [ ] コンソールエラーなし
- [ ] WebGL2動作正常
- [ ] ネットワーク読み込み成功

## 🎯 成功基準の最終確認

このテストで以下が確認できれば修正成功：

1. **✅ オレンジ色破綻問題の解決**
2. **✅ 26%不透明度での自然な結果**  
3. **✅ 64³LUTデータの完全活用**
4. **✅ Photoshop同等の色精度**
5. **✅ 安定したパフォーマンス**

すべての項目が満たされれば、GLAZE の3D LUT処理は **プロフェッショナル品質** を実現したと判断できます。